<!DOCTYPE html>
<html>
	<head>
	  <!-- bootstrap basics -->
	  <link href="../../css/bootstrap.css" rel="stylesheet">
	  <link href="../../css/jquery-ui.css" rel="stylesheet">	  
	  <!-- specific to this example --> 
	  <link href="css/lab.css" rel="stylesheet">
	  <link href="css/box.css" rel="stylesheet">
	  <title>lab</title>
	</head>
	<body id="box_example">
		<div class="slidepanel">
			<div class="datapanel">
				<div class="sources">
					<ul><!--populated by the sourcesView-->
					</ul>
					<div class="new-source-add-button icon-list-add"></div>
					<input type="text" class="new-source-url"></input>
				</div><!--sources-->
				<hr>
				<div class="things">
					<!--<a class="new_group" href="#"><span class="icon-indent-left"></span></a>-->
					<div class="tablecontainer">
					  <table class="table">
						<thead></thead>
						<tbody class="values"></tbody>
					  </table>
					</div>
				</div>
			</div><!--/panel-->
			<div class="tab">
			  <a class="toggle_data" href="#">
				<h4><span class="icon-logout-1"></span><h4>
			  </a>
			</div> <!--/tab-->
		</div> <!--/slidepanel-->
		<div class="workspace">
		  <!--
		  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
		  tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		  quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
		  consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
		  cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
		  proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
		  tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		  quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
		  consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
		  cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
		  proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
		  tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		  quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
		  consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
		  cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
		  proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		  -->
		</div>
	</body>
	<script type="text/template" id="thing-listitem-template">
	<%	   
		var lastpath = function(x) {
			if (x.indexOf('#') >= 0) {  return x.slice(x.lastIndexOf('#')+1); }
			return x.slice(x.lastIndexOf('/')+1);
		};
	    var to_str = function(v) {
	        if (v.id) { return v.id; }
	        return v.toString();
     	};
		var label = m['http://www.w3.org/2000/01/rdf-schema#label'];
		if (label && _(label).isString() && m['_id']) {
			label = label + " <a href='"+m['_id']+"'>src</a>";          
		} else if (label && _(label).isArray() && m['_id']) {
			label = label[0] + " <a href='"+m['_id']+"'>src</a>";       
		} else if (_(label).isUndefined() && m['_id']) {
			label = lastpath(m['_id']) + " <a href='"+m['_id']+"'>src</a>";
		}
   	    print("<div class='thing-listitem'><span class='thing-label'>"+label+"</span>");
	    var propslist = _(m).map(function(v, k) { return '<li>'+k+': '+ to_str(v) +'</li>'; }).join('');
 	    print("<div class='props'><ul>"+propslist+"</ul></div></div>");
	%>
	</script>    
	<script src="../../lib/jquery-1.7.2.min.js" type="text/javascript"></script>
	<script src="../../lib/underscore-min.js" type="text/javascript"></script>
	<script src="../../lib/backbone.js" type="text/javascript"></script>
	<script src="../../lib/require.js"></script>
	<script type="text/javascript">
		// because we're not in the same place as the rest of our html files,
		// we have got to manually tell require how to resolve things 
		$(document).ready(function() {
				// demo specific initialistation here
			var path = document.location.pathname;
			var basepath = path.slice(0,path.lastIndexOf('/')); // chop off 2 /'s
			basepath = basepath.slice(0,Math.max(0,basepath.lastIndexOf('/'))) || '/';
  		    basepath = basepath.slice(0,Math.max(0,basepath.lastIndexOf('/'))) || '/';
			console.log('setting baseurl to ', document.location.pathname, '-', basepath);
		    window.__basepath__ = basepath;	
			require.config({ baseUrl:  basepath });
			require(['examples/lab/js/lab'],function() {});
		});    
	</script>
	<script src="../../lib/codemirror2/codemirror.js"></script>
	<link href="../../lib/codemirror2/codemirror.css" rel="stylesheet">  
	<script src="../../lib/codemirror2/mode/javascript/javascript.js"></script>  
	<script type="text/javascript" src="../../lib/rdfquery/jquery.uri.js"></script>
	<script type="text/javascript" src="../../lib/rdfquery/jquery.xmlns.js"></script>
	<script type="text/javascript" src="../../lib/rdfquery/jquery.curie.js"></script>      
	<script type="text/javascript" src="../../lib/rdfquery/jquery.datatype.js"></script>
	<script type="text/javascript" src="../../lib/rdfquery/jquery.rdf.js"></script>
	<script type="text/javascript" src="../../lib/rdfquery/jquery.rdfa.js"></script>
	<script type="text/javascript" src="../../lib/rdfquery/jquery.rdf.xml.js"></script>
	<script type="text/javascript" src="../../lib/rdfquery/jquery.rdf.turtle.js"></script>  
	<script type="text/javascript" src="../../lib/rdfquery/jquery.rdf.json.js"></script>
	<!-- // <script src="https://apis.google.com/js/client.js"></script> -->
	<script src="../../lib/jquery-ui.js"></script>  
	<!-- // <script src="js/slide.js" type="text/javascript"></script> -->
</html>
